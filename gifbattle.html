<head>
  <title>gifbattle</title>
</head>

<body>
	<div id="background">
		<div class="images">
	<img src="http://www.gifbin.com/bin/122011/1325704160_recursive_ron_swanson_mustache.gif">
	<img src="http://www.gifbin.com/bin/122011/1325704160_recursive_ron_swanson_mustache.gif">
	<img src="http://www.gifbin.com/bin/122011/1325704160_recursive_ron_swanson_mustache.gif">
	<img src="http://www.gifbin.com/bin/122011/1325704160_recursive_ron_swanson_mustache.gif">
	<img src="http://www.gifbin.com/bin/122011/1325704160_recursive_ron_swanson_mustache.gif">
	<img src="http://www.gifbin.com/bin/122011/1325704160_recursive_ron_swanson_mustache.gif">
	<img src="http://www.gifbin.com/bin/122011/1325704160_recursive_ron_swanson_mustache.gif">
	<img src="http://www.gifbin.com/bin/122011/1325704160_recursive_ron_swanson_mustache.gif">
	<img src="http://www.gifbin.com/bin/122011/1325704160_recursive_ron_swanson_mustache.gif">
	<img src="http://www.gifbin.com/bin/122011/1325704160_recursive_ron_swanson_mustache.gif">
	</div>
	<div class="opaquer">&nbsp;</div>
	</div>
<div class="container">
  <header>
      <h1>GIF BATTLE!</h1>
      <button id="clearPlayers">Clear Players</button>
  </header>
<section class="content">
  {{> joinForm}}

  <ul>
    {{#each currentGifs}}
      {{> gif}}
    {{/each}}
  </ul>


</section>
</div>

<script>
    (function(d, t) {
        var g = d.createElement(t),
                s = d.getElementsByTagName(t)[0];
        g.src = 'https://test.gfycat.com/modified.js';
        s.parentNode.insertBefore(g, s);
    }(document, 'script'));
</script>
</body>

<template name="joinForm">
    {{#if gameOver}}
      GAME OVER!
      {{winnerName}} wins!
    {{/if}}
    {{#unless gameOver}}
      {{#if noPlayers}}
<form class="player-one">      
 <p>Where's the battle? Become player one:
			
	            <input type="text" name="text" placeholder="Enter your name!" />
	       
	</p>
         </form>
      {{/if}}


      {{#if onePlayer}}
        {{#if notAPlayer}}
<form class="player-two">
          <p>{{playerOne}} is waiting for battle, become player two:
          
              <input type="text" name="text" placeholder="Enter your name!" />
</p>
          </form>
        {{/if}}
        {{#if imPlayerOne}}
                <p>Waiting for player two!</p>
        {{/if}}
      {{/if}}

    {{#if twoPlayers}}
      <h2>CURRENT SCORE</h2>
        <p>{{playerOne}}     {{playerOneVotes}} : {{playerTwoVotes}}     {{playerTwo}}</p>

      {{#unless votingOpen}}
       {{#if myTurn}}
            <form class="add-gif">
                <input type="text" name="text" placeholder="Select your GIF!!!" />
            </form>
        {{/if}}
      {{/unless}}

        {{#if notAPlayer}}
          {{#if votingOpen}}
          <form class="vote">
              {{#if hasntVoted}}
                <button id="voteOne">Vote for {{playerOne}}!</button>
                <button id="voteTwo">Vote for {{playerTwo}}!</button>
              {{/if}}
          </form>
          {{/if}}
        {{/if}}
    {{/if}}
  {{/unless}}
</template>

<template name="gif">
    {{#if gfycat}}
            <li>{{user}} - <img class="gfyitem" id="{{gifId}}" data-id="{{gfylink}}" /></li>
    {{/if}}

    {{#if imgurGifV}}
        <li>{{user}} - <video autoplay="" loop="" style="width:100%" muted=""><source type="video/webm" src="{{imgurGifVRoot}}.webm"><source type="video/mp4" src="{{imgurGifVRoot}}.mp4"></video></li>
    {{/if}}
    {{#unless gfycat}}
        {{#unless imgurGifV}}
            <li>{{user}} - <img src="{{href}}"></li>
        {{/unless}}
    {{/unless}}

    {{finish}}
</template>